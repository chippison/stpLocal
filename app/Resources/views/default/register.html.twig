 {% extends 'landing.html.twig' %}
 {% block headscripts %}
    {{ parent() }}
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">
 {% endblock %}
 {% block main_body %}
    <div class="section" style="min-height: 75vh;padding: 0px;padding-top: 40px"> 
            <div class="filter-black"></div>
                <div class="container">
                    <div class="row">
                        <div class="col-md-8 col-md-offset-3 col-sm-10 col-xs-10">
                            <div class="register-card">
                                <h3 class="title">Registration Page</h3>
                                {{ form_start(form) }}
                                    <div class="row">
                                    <div style="margin-top: 10px" class="col-md-12 col-sm-12">
                                    {{ form_widget(form.moe) }}
                                    <div style="color: red">
                                    {{ form_errors(form.moe) }}
                                    </div>
                                    </div>
                                    </div>
                                    <div class="row">
                                    <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                    {{ form_widget(form.fname) }}
                                    </div>
                                    <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                    {{ form_widget(form.lname) }}
                                    </div>
                                    </div>
                                    <div class="row">
                                    <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                    {{ form_widget(form.email.first) }}
                                    <div style="color: red">
                                    {{ form_errors(form.email.first) }}
                                    </div>
                                    </div>
                                    <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                    {{ form_widget(form.email.second) }}
                                    <div style="color: red">
                                    {{ form_errors(form.email.first) }}
                                    </div>
                                    </div>
                                    </div>
                                    <div class="row">
                                    <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                    {{ form_widget(form.password.first) }}
                                    <div style="color: red">
                                    {{ form_errors(form.password.first) }}
                                    </div>
                                    <div style="font-size: 0.9em;color: black;">
                                        Please choose a password, it must be at least 8 characters and contain at least 1 capital letter and 1 number
                                    </div>
                                    </div>
                                    <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                    {{ form_widget(form.password.second) }}
                                    <div style="color: red">
                                    {{ form_errors(form.password.first) }}
                                    </div>
                                    </div>
                                    </div>
                                    <div class="row">
                                        <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                            <label for="form_isadmin_0" class="radio radio-red">
                                            {{ form_widget(form.isadmin.0) }}
                                            Principal will be the administrator for this survey
                                           </label>
                                        </div>
                                        <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                            <label for="form_isadmin_1" class="radio radio-red">
                                            {{ form_widget(form.isadmin.1) }}
                                            Another person will administer this survey
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row adminrow">
                                    <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                    {{ form_widget(form.a_fname) }}
                                    </div>
                                    <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                    {{ form_widget(form.a_lname) }}
                                    </div>
                                    </div>
                                    <div class="row adminrow">
                                    <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                    {{ form_widget(form.a_email.first) }}
                                    <div style="color: red">
                                    {{ form_errors(form.a_email.first) }}
                                    </div>
                                    </div>
                                    <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                    {{ form_widget(form.a_email.second) }}
                                    <div style="color: red">
                                    {{ form_errors(form.a_email.first) }}                                    
                                    </div>
                                    </div>
                                    </div>
                                    <div class="row adminrow">
                                    <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                    {{ form_widget(form.a_password.first) }}
                                    <div style="color: red">
                                    {{ form_errors(form.a_password.first) }}
                                    </div>
                                    <div style="font-size: 0.9em;color: black;">
                                        Please choose a password, it must be at least 8 characters and contain at least 1 capital letter and 1 number
                                    </div>
                                    </div>
                                    <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                    {{ form_widget(form.a_password.second) }}
                                    <div style="color: red">
                                    {{ form_errors(form.a_password.first) }}
                                    </div>
                                    </div>
                                    </div>
                                    <div class="row">
                                        <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                        <label for="form_terms_0" class="checkbox checkbox-red">
                                        {{ form_widget(form.terms.0) }}
                                        I have understood the <a href="#" data-toggle="modal" data-target="#myModal" target="_blank" >Terms of Use</a>
                                        </label>
                                        </div>
                                         <div style="margin-top: 10px" class="col-md-6 col-sm-6">
                                        <label for="form_cols_0" class="checkbox checkbox-red">
                                        {{ form_widget(form.cols.0) }}
                                        This school’s responses can be included in my Community of Learning I Kāhui Ako aggregate report
                                        </label>
                                        </div>
                                    </div>
                                    {{ form_widget(form.register) }}
                                {{ form_end(form) }}
                            </div>
                        </div>
                    </div>
                </div>
          <!-- Modal -->
           <div id="myModal" class="modal fade" role="dialog">
              <div class="modal-dialog" style="width: 1300px">
            
                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h3 class="modal-title myh3">Teaching and School Practices Survey Tool Terms of Use</h3>
                  </div>
                  <div class="modal-body">
                    <p>Please read these terms of use before agreeing to them.</p>
                    <h4 class="myh4">Purpose</h4>
                    <p>
                        The purpose of the Teaching and School Practices Survey Tool: the teacher survey, principal survey, reports, and supporting information, is to provide your school with useful information for school inquiry, review, and development. 
                    </p>
                    <p>The tool is also designed to be useful Kāhui Ako inquiry, review and development when used by member schools.</p>
                    <p>Towards the end of each year, data from all participating schools will be aggregated and NZCER will provide a national overview of strengths and needs across schools and the impact of policies such as Kāhui Ako and the changes to PLD.  No individual teachers, principals, schools or Kāhui Ako will be identifiable in any reporting.</p>
                    <p>The Tool has been developed by NZCER on contract to the Ministry of Education.</p>
                    <h4 class="myh4">Survey protocols</h4>
                    <p>
                        Schools that use the Teaching and School Practices Survey Tool agree to respect the anonymity of the survey respondents, and the right of teaching staff to freely opt into or out of completing their surveys without coercion.
                    </p>
                    <h4 class="myh4">Reporting</h4>
                    <p>Schools that use the Teaching and School Practices Survey Tool will receive school-level reports showing the grouped teacher survey responses, providing at least five teachers have completed the survey. Schools that have had three or four teachers complete the surveys will receive reduced reporting showing the /median responses on a scale.</p>
                    <p>
                        A second set of reports will be produced showing the principal response alongside the grouped teacher responses. Only the principal can access the reports with the principal data,
                        and it is up to the school principal to share these reports at their discretion.
                    </p>
                    <p>If a Kāhui Ako wants to use the Teaching and School Practices Survey Tool across its member schools then a Kāhui Ako-level set of reports will be produced. These reports contain aggregated results across all member schools. You will need to contact NZCER for these reports because it’s not part of the automated reporting within the tool. NZCER will ensure that all member schools have given permission for their data to be used in these reports before giving them to the Kāhui Ako leader.</p>
                    <p>NZCER will analyse the data from all participating schools to provide an aggregated national overview report of teaching practices, school practices, and principal leadership for the Ministry of Education and the sector. This report will not identify any individual person, school, or Kāhui Ako. </p>
                    <p>The aggregated/grouped data will contribute towards national reference data.</p>
                    <p>
                        Grouped data will be used to:
                        <ul>
                            <li>report national patterns in the data</li>
                            <li>show any variance in the national patterns related to across type of school, socio-economic decile, school size, or Ministry of Education region,</li>
                            <li>analyse the performance of the survey questions, and</li>
                            <li>inform general research questions.</li>
                        </ul>
                    </p>
                    <h4 class="myh4">School administrator</h4>
                    <p>
                        The principal is required to register the school and then nominate someone in the school to act as a survey administrator (principals may nominate themselves). The school survey administrator will be responsible for facilitating the completion of the surveys in the school. This will include:
                        <ul>
                            <li>communicating the teacher registration link to all teaching staff</li>
                            <li>ensuring the security of the school administration password</li>
                            <li>starting and closing the survey period</li>
                            <li>being a first point of contact for any issues teaching staff experience</li>
                            <li>monitoring the survey completion rate; they will know how many teachers complete the surveys, but will not be able to see individual teacher responses from the survey, or who has completed the survey</li>
                            <li>downloading and printing the school reports.</li>
                        </ul>
                    </p>
                    <h4 class="myh4">Data storage and confidentiality</h4>
                    <p>The data from survey responses is stored securely by NZCER on password-protected servers based in New Zealand. Schools have access to their own school data which they can compare to the national data when it becomes available in 2018.</p>
                    <p>NZCER has the role of custodian of the data. Only NZCER can access the information and use it to provide school, Kāhui Ako and national reports. The data is kept confidential and is not released to any external agencies or individuals.</p>
                    <p>At no time will the identity of a school or an individual be made available by NZCER to anyone else. NZCER will only use school contact information to communicate with schools. All personal information, including email addresses, are kept securely and will not be shared with any third party.</p>
                    <p>NZCER reserves the right to withhold any survey information that could potentially be used to identify a survey respondent (for instance, results from a small group of respondents).</p>
                    <p>Schools can request to have their data deleted from the server making it unavailable for any future reporting.</p>
                    <h4 class="myh4">Any questions?</h4>
                    <p>Please contact us at <a href="mailto://tspsurveys@nzcer.org.nz">tspsurveys@nzcer.org.nz</a></p>
                  </div>
                  <div class="modal-footer" style="height: 50px">
                    <button type="button" class="btn rob_btn" data-dismiss="modal" style="margin-top: 5px;margin-right: 15px">Close</button>
                  </div>
                </div>
            
              </div>
            </div>
        </div>
 {% endblock %}
 {% block user_js %}
 <!-- Latest compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>
 <script type="text/javascript">
 $(document).ready(function(){
	    var form_moeChanged = false;
	    var form_termsChecked = false;
	    {% if(not form.vars.valid and form.vars.value.moe != '') %}
	        form_moeChanged = true;
	    {% endif %}
	    $('#registration_form_terms_0').checkbox('uncheck');
	    $('.is_admin_radio').on('toggle',function(){
		    var isadmin = $(this).val()
		    if(isadmin==true){
		        $('.adminrow').hide()
		        $('#registration_form_a_fname').prop('disabled',true)
                $('#registration_form_a_lname').prop('disabled',true)
                $('#registration_form_a_email_first').prop('disabled',true)
                $('#registration_form_a_email_second').prop('disabled',true)
                $('#registration_form_a_password_first').prop('disabled',true)
                $('#registration_form_a_password_second').prop('disabled',true)
			}else{
			    $('.adminrow').show()
			    $('#registration_form_a_fname').prop('disabled',false)
			    $('#registration_form_a_lname').prop('disabled',false)
			    $('#registration_form_a_email_first').prop('disabled',false)
			    $('#registration_form_a_email_second').prop('disabled',false)
			    $('#registration_form_a_password_first').prop('disabled',false)
                $('#registration_form_a_password_second').prop('disabled',false)
			}
		});
		{% if(form.vars.value is not null and form.isadmin.vars.value==0) %}
		  $('.adminrow').show();
		  $('#registration_form_a_fname').prop('disabled',false)
          $('#registration_form_a_lname').prop('disabled',false)
          $('#registration_form_a_email_first').prop('disabled',false)
          $('#registration_form_a_email_second').prop('disabled',false)
          $('#registration_form_a_password_first').prop('disabled',false)
          $('#registration_form_a_password_second').prop('disabled',false)
		{% else %}
		  $('.adminrow').hide();
		  $('#registration_form_a_fname').prop('disabled',true)
          $('#registration_form_a_lname').prop('disabled',true)
          $('#registration_form_a_email_first').prop('disabled',true)
          $('#registration_form_a_email_second').prop('disabled',true)
          $('#registration_form_a_password_first').prop('disabled',true)
          $('#registration_form_a_password_second').prop('disabled',true)
		{% endif %}
		$('.bs-searchbox > .form_moe').on('keyup', function(){
			/* var myval = $(this).val()
		    $.get("/getschool/"+myval,function(data){
			    if(data.school.name === undefined){
				    //alert('i got undefined');
				    $('#schlname').html('');
				}else{
				    $('#schlname').html(data.school.name);
				}
			}); */
			alert('i was clicked')
		});
		$('#registration_form_moe').on('changed.bs.select',function(e){
		    form_moeChanged = true;
		    try_disable();
		}) 
		$('#registration_form_terms_0').on('toggle',function(){
		    if($(this).is(':checked')){
		    	form_termsChecked = true;
		    	try_disable();
			    //$('#form_register').prop('disabled',false)
			}else{
				form_termsChecked = false;
                try_disable();
			}
		})
		function try_disable(){
			if(form_moeChanged && form_termsChecked){
				$('#registration_form_register').prop('disabled',false)
			}else{
				 $('#registration_form_register').prop('disabled',true)
			}
		}
 })
 </script>
 {% endblock %}
 {% block init_js %}
<script src="{{ asset('js/paper/jquery-1.10.2.js') }}" type="text/javascript"></script>
<script src="{{ asset('js/bootstrap.js') }}" type="text/javascript"></script>

<!--  Plugins -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2133674-14', 'auto');
  ga('send', 'pageview');

</script>
<script src="{{ asset('js/paper/ct-paper-checkbox.js') }}"></script>
<script src="{{ asset('js/paper/ct-paper-radio.js') }}"></script>
<script src="{{ asset('js/paper/bootstrap-datepicker.js') }}"></script>
<script src="{{ asset('js/paper/ct-paper.js') }}"></script>
<script type="text/javascript">

</script>
{% endblock %}